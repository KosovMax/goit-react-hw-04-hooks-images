(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),r=a(8),o=a.n(r),s=a(4),i=a(11),l=a(5),u=a(20),d=a.n(u);function j(e){var t=e.onSearch,a=Object(n.useState)(""),r=Object(l.a)(a,2),o=r[0],s=r[1];return Object(c.jsx)("header",{className:"Searchbar",children:Object(c.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(o)},children:[Object(c.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(c.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(c.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"search",value:o,onChange:function(e){var t=e.target;s(t.value)}})]})})}function h(e){var t=e.id,a=e.src,n=e.alt,r=e.showIdModel;return Object(c.jsx)("li",{className:"ImageGalleryItem",children:Object(c.jsx)("img",{src:a,alt:n,onClick:function(){return r(t)},className:"ImageGalleryItem-image"})})}function b(e){var t=e.imageGalleries,a=e.showIdModel;return Object(c.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,n=e.webformatURL;return Object(c.jsx)(h,{id:t,src:n,showIdModel:a},t)}))})}function f(e){var t=e.onClick,a=e.children,n=e.allyProps;return Object(c.jsx)("div",{style:{textAlign:"center"},children:Object(c.jsx)("button",Object(s.a)(Object(s.a)({type:"button",onClick:t,className:"Button"},n),{},{children:a}))})}j.defaultProps={onSearch:function(){}},h.defaultProps={id:0,src:"https://dummyimage.com/640x480/2a2a2a/ffffff&text=No+image",alt:""},b.defaultProps={imageGalleries:[]},f.defaultProps={onClick:function(){return null},children:null};var m=a(2),O=a.n(m),p=document.querySelector("#modal-root");function g(e){var t=this,a=e.src,o=e.closeModal,s=function(e){"Escape"===e.key&&t.props.closeModal()};return Object(n.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}}),[s]),Object(r.createPortal)(Object(c.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&o()},children:Object(c.jsx)("div",{className:"Modal",children:Object(c.jsx)("img",{src:a,alt:""})})}),p)}g.defaultProps={src:"",closeModal:function(){}},g.defaultProps={src:O.a.string.isRequired,closeModal:O.a.func};var v=a(7),w=a.n(v);w.a.defaults.baseURL="https://pixabay.com/api",w.a.defaults.params={},w.a.defaults.params.key="19319242-70903095163a85f904f3acecb";var x=function(e){var t=e.searchQuery,a=void 0===t?"":t,c=e.page,n=void 0===c?1:c,r=e.perPage,o=void 0===r?12:r;return w.a.get("/",{params:{q:a,page:n,per_page:o,image_type:"photo",orientation:"horizontal"}}).then((function(e){return e.data.hits}))};function y(e,t){switch(t){case"go":return e+1;case"clear":return 1;default:throw new Error("Unsuported action type ".concat(t))}}function S(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),u=Object(l.a)(o,2),h=u[0],m=u[1],O=Object(n.useState)(!1),p=Object(l.a)(O,2),v=p[0],w=p[1],S=Object(n.useState)(null),k=Object(l.a)(S,2),N=k[0],M=k[1],I=Object(n.useState)({show:!1,id:0}),P=Object(l.a)(I,2),C=P[0],F=P[1],E=Object(n.useReducer)(y,0),G=Object(l.a)(E,2),L=G[0],R=G[1];Object(n.useEffect)((function(){""!==h.trim()&&(w(!0),x({searchQuery:h,page:L}).then((function(e){r((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}))})).catch((function(e){return M(e)})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),w(!1)})))}),[h,L]);var q=Object(n.useMemo)((function(){return a.find((function(e){return e.id===C.id}))}),[a,C.id]);console.log(C);return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(j,{onSearch:function(e){h!==e&&(m(e),r([]),R("clear"))}}),N&&Object(c.jsxs)("p",{children:["Whoops, something went wrong: ",N.message]}),a.length>0&&Object(c.jsx)(b,{imageGalleries:a,showIdModel:function(e){F((function(t){return Object(s.a)(Object(s.a)({},t),{},{id:e})})),F((function(e){return Object(s.a)(Object(s.a)({},e),{},{show:!0})}))}}),v&&Object(c.jsx)(d.a,{type:"Oval",color:"#00BFFF",height:100,width:100,style:{textAlign:"center"}}),a.length>0&&Object(c.jsx)(f,{onClick:function(){return R("go")},children:"Load more"}),C.show&&Object(c.jsx)(g,{src:q.largeImageURL,closeModal:function(){F((function(e){return Object(s.a)(Object(s.a)({},e),{},{show:!e.show})}))}})]})}a(64);o.a.render(Object(c.jsx)(S,{}),document.querySelector("#root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.f9eab6ce.chunk.js.map